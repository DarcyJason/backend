{"schemas":"DEFINE TABLE OVERWRITE audit_log SCHEMALESS;\n\n# DEFINE FIELD OVERWRITE field ON audit_log;\nDEFINE TABLE OVERWRITE devices SCHEMALESS;\n\n# DEFINE FIELD OVERWRITE field ON devices;\nDEFINE FIELD OVERWRITE id ON devices TYPE uuid DEFAULT rand::uuid::v4();\nDEFINE FIELD OVERWRITE user_id ON devices TYPE string;\nDEFINE FIELD OVERWRITE ip ON devices TYPE string;\nDEFINE FIELD OVERWRITE user_agent ON devices TYPE string;\nDEFINE FIELD OVERWRITE os ON devices TYPE string;\nDEFINE FIELD OVERWRITE device ON devices TYPE string;\nDEFINE FIELD OVERWRITE is_trusted ON devices TYPE bool;\nDEFINE FIELD OVERWRITE last_login_at ON devices TYPE datetime DEFAULT time::now();\n\nDEFINE INDEX OVERWRITE device_user_id_index ON TABLE devices COLUMNS user_id;\n\nDEFINE TABLE OVERWRITE email SCHEMALESS;\n\n# DEFINE FIELD OVERWRITE field ON email;\nDEFINE FIELD OVERWRITE id ON email Type uuid DEFAULT rand::uuid::v4();\nDEFINE FIELD OVERWRITE user_id ON email Type string;\nDEFINE FIELD OVERWRITE token_type ON email Type string;\nDEFINE FIELD OVERWRITE email_token ON email Type string;\nDEFINE FIELD OVERWRITE created_at ON email Type datetime DEFAULT time::now() READONLY;\nDEFINE FIELD OVERWRITE expires_at ON email Type datetime DEFAULT time::now() + 1d;\n\nDEFINE INDEX OVERWRITE email_index ON TABLE email COLUMNS token UNIQUE;\n\nDEFINE TABLE OVERWRITE ip_blacklist SCHEMALESS;\n\n# DEFINE FIELD OVERWRITE field ON ip_blacklist;\nDEFINE FIELD OVERWRITE id ON ip_blacklist TYPE uuid DEFAULT rand::uuid::v4();\nDEFINE FIELD OVERWRITE ip ON ip_blacklist TYPE string;\nDEFINE FIELD OVERWRITE reason ON ip_blacklist TYPE string;\nDEFINE FIELD OVERWRITE created_at ON ip_blacklist TYPE datetime DEFAULT time::now() READONLY;\nDEFINE FIELD OVERWRITE expires_at ON ip_blacklist TYPE datetime;\n\nDEFINE INDEX OVERWRITE ip_blacklist_id_index ON TABLE ip_blacklist COLUMNS id;\nDEFINE INDEX OVERWRITE ip_blacklist_ip_index ON TABLE ip_blacklist COLUMNS ip;\n\nDEFINE TABLE OVERWRITE refresh_tokens SCHEMALESS;\n\n# DEFINE FIELD OVERWRITE field ON refresh_tokens;\nDEFINE FIELD OVERWRITE id ON refresh_tokens TYPE uuid DEFAULT rand::uuid::v4();\nDEFINE FIELD OVERWRITE user_id ON refresh_tokens TYPE string;\nDEFINE FIELD OVERWRITE device_id ON refresh_tokens TYPE string;\nDEFINE FIELD OVERWRITE token_value ON refresh_tokens TYPE string;\nDEFINE FIELD OVERWRITE created_at ON refresh_tokens TYPE datetime DEFAULT time::now() READONLY;\nDEFINE FIELD OVERWRITE expires_at ON refresh_tokens TYPE datetime DEFAULT time::now() + 7d;\n\nDEFINE INDEX OVERWRITE refresh_token_user_id_index ON TABLE refresh_tokens COLUMNS user_id;\nDEFINE INDEX OVERWRITE refresh_token_device_id_index ON TABLE refresh_tokens COLUMNS device_id;\nDEFINE INDEX OVERWRITE refresh_token_value_index ON TABLE refresh_tokens COLUMNS token_value UNIQUE;\n\nDEFINE TABLE OVERWRITE script_migration SCHEMAFULL\n    PERMISSIONS\n        FOR select FULL\n        FOR create, update, delete NONE;\n\nDEFINE FIELD OVERWRITE script_name ON script_migration TYPE string;\nDEFINE FIELD OVERWRITE executed_at ON script_migration TYPE datetime VALUE time::now() READONLY;\nDEFINE FIELD OVERWRITE checksum ON script_migration TYPE option<string>;\n\nDEFINE TABLE OVERWRITE users SCHEMALESS;\n\n# DEFINE FIELD OVERWRITE field ON users;\nDEFINE FIELD OVERWRITE id ON users TYPE uuid DEFAULT rand::uuid::v4();\nDEFINE FIELD OVERWRITE name ON users TYPE string;\nDEFINE FIELD OVERWRITE email ON users TYPE string;\nDEFINE FIELD OVERWRITE password ON users TYPE string;\nDEFINE FIELD OVERWRITE role ON users TYPE string;\nDEFINE FIELD OVERWRITE salt ON users TYPE string;\nDEFINE FIELD OVERWRITE is_verified ON users TYPE bool DEFAULT false;\nDEFINE FIELD OVERWRITE status ON users TYPE string;\nDEFINE FIELD OVERWRITE created_at ON users TYPE datetime DEFAULT time::now() READONLY;\nDEFINE FIELD OVERWRITE updated_at ON users TYPE datetime DEFAULT time::now();\n\nDEFINE INDEX OVERWRITE user_email_index ON TABLE users COLUMNS email UNIQUE;\n","events":""}
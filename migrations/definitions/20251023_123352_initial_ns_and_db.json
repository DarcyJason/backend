{"schemas":"--- original\n+++ modified\n@@ -1,11 +1,19 @@\n DEFINE TABLE OVERWRITE audit_log SCHEMALESS;\n\n # DEFINE FIELD OVERWRITE field ON audit_log;\n+DEFINE FIELD OVERWRITE id ON audit_log TYPE uuid DEFAULT rand::uuid::v4();\n+DEFINE FIELD OVERWRITE actor ON audit_log TYPE string;\n+DEFINE FIELD OVERWRITE action ON audit_log TYPE string;\n+DEFINE FIELD OVERWRITE status ON audit_log TYPE string;\n+DEFINE FIELD OVERWRITE timestamp ON audit_log TYPE datetime DEFAULT time::now() READONLY;\n+DEFINE FIELD OVERWRITE ip ON audit_log TYPE option<string>;\n+DEFINE FIELD OVERWRITE user_agent ON audit_log TYPE option<string>;\n+DEFINE FIELD OVERWRITE details ON audit_log TYPE option<object>;\n DEFINE TABLE OVERWRITE devices SCHEMALESS;\n\n # DEFINE FIELD OVERWRITE field ON devices;\n DEFINE FIELD OVERWRITE id ON devices TYPE uuid DEFAULT rand::uuid::v4();\n-DEFINE FIELD OVERWRITE user_id ON devices TYPE string;\n+DEFINE FIELD OVERWRITE user_id ON devices TYPE record<users>;\n DEFINE FIELD OVERWRITE ip ON devices TYPE string;\n DEFINE FIELD OVERWRITE user_agent ON devices TYPE string;\n DEFINE FIELD OVERWRITE os ON devices TYPE string;\n@@ -15,17 +23,18 @@\n\n DEFINE INDEX OVERWRITE device_user_id_index ON TABLE devices COLUMNS user_id;\n\n-DEFINE TABLE OVERWRITE email SCHEMALESS;\n+DEFINE TABLE OVERWRITE emails SCHEMALESS;\n\n-# DEFINE FIELD OVERWRITE field ON email;\n-DEFINE FIELD OVERWRITE id ON email Type uuid DEFAULT rand::uuid::v4();\n-DEFINE FIELD OVERWRITE user_id ON email Type string;\n-DEFINE FIELD OVERWRITE token_type ON email Type string;\n-DEFINE FIELD OVERWRITE email_token ON email Type string;\n-DEFINE FIELD OVERWRITE created_at ON email Type datetime DEFAULT time::now() READONLY;\n-DEFINE FIELD OVERWRITE expires_at ON email Type datetime DEFAULT time::now() + 1d;\n+# DEFINE FIELD OVERWRITE field ON emails;\n+DEFINE FIELD OVERWRITE id ON emails TYPE uuid DEFAULT rand::uuid::v4();\n+DEFINE FIELD OVERWRITE user_id ON emails TYPE record<users>;\n+DEFINE FIELD OVERWRITE email_type ON emails TYPE string;\n+DEFINE FIELD OVERWRITE email_token ON emails TYPE string;\n+DEFINE FIELD OVERWRITE created_at ON emails TYPE datetime DEFAULT time::now() READONLY;\n+DEFINE FIELD OVERWRITE expires_at ON emails TYPE datetime DEFAULT time::now() + 1d;\n+DEFINE FIELD OVERWRITE is_used ON emails TYPE bool DEFAULT false;\n\n-DEFINE INDEX OVERWRITE email_index ON TABLE email COLUMNS token UNIQUE;\n+DEFINE INDEX OVERWRITE email_index ON TABLE emails COLUMNS email_token UNIQUE;\n\n DEFINE TABLE OVERWRITE ip_blacklist SCHEMALESS;\n\n@@ -43,8 +52,8 @@\n\n # DEFINE FIELD OVERWRITE field ON refresh_tokens;\n DEFINE FIELD OVERWRITE id ON refresh_tokens TYPE uuid DEFAULT rand::uuid::v4();\n-DEFINE FIELD OVERWRITE user_id ON refresh_tokens TYPE string;\n-DEFINE FIELD OVERWRITE device_id ON refresh_tokens TYPE string;\n+DEFINE FIELD OVERWRITE user_id ON refresh_tokens TYPE record<users>;\n+DEFINE FIELD OVERWRITE device_id ON refresh_tokens TYPE record<devices>;\n DEFINE FIELD OVERWRITE token_value ON refresh_tokens TYPE string;\n DEFINE FIELD OVERWRITE created_at ON refresh_tokens TYPE datetime DEFAULT time::now() READONLY;\n DEFINE FIELD OVERWRITE expires_at ON refresh_tokens TYPE datetime DEFAULT time::now() + 7d;\n","events":null}